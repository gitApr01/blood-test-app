import React, {useEffect, useState} from 'react'
import { get } from '../api.js'
export default function Dashboard(){ const [summary,setSummary]=useState({total:0,due:0,count:0}); async function load(){ try{ const all = await get('/all_tests'); const total = all.reduce((s,a)=>s+(Number(a.total)||0),0); const due = all.reduce((s,a)=>s+(Number(a.due)||0),0); setSummary({total,due,count:all.length}); }catch(e){console.error(e);} } useEffect(()=>{ load() },[])
return (<div><div className="card"><h1 className="h1">Dashboard</h1><div className="small">Welcome</div></div><div className="card" style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:12}}><div><div className="small">Total collection</div><div style={{fontSize:22,fontWeight:700}}>₹{summary.total.toFixed(2)}</div></div><div><div className="small">Total due</div><div style={{fontSize:22,fontWeight:700,color:'#d32f2f'}}>₹{summary.due.toFixed(2)}</div></div></div><div className="card"><h2 className="h2">Quick actions</h2><div style={{display:'flex',gap:10,flexWrap:'wrap'}}><a className="btn" href="/tests">View Tests</a><a className="btn" href="/tests/add">Add Test</a><a className="btn" href="/reports">Reports</a><a className="btn" href="/patients">Patients</a></div></div></div>) }
